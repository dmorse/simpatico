<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>Simpatico: 2.3.2 Parameter Files: mdSim and mcSim</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simpatico
   &#160;<span id="projectnumber">v1.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Simpatico - Simulation Package for Polymer and Molecular Liquids</a></li><li class="navelem"><a class="el" href="user_page.html">2 User Guide</a></li><li class="navelem"><a class="el" href="user_param_page.html">2.3 Parameter Files</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">2.3.2 Parameter Files: mdSim and mcSim </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="user_param_syntax_page.html">2.3.1 Parameter Files: Syntax</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="user_param_ddmd_page.html">2.3.3 Parameter Files: ddSim</a> (Next) <br/>
</p>
<p>The parameter file formats for mdSim and mcSim simulations are similar in many respects, and so will be discussed together.</p>
<h1><a class="anchor" id="user_param_mcmd_mcExample_section"></a>
Example (for mcSim):</h1>
<p>An example of a parameter file for an mdSim molecular dynamics simulation was shown on the previous page. Here is a corresponding example for an mcSim Monte Carlo simulation: </p>
<div class="fragment"><div class="line">McSimulation{</div>
<div class="line">  FileMaster{</div>
<div class="line">    commandFileName                 commands</div>
<div class="line">    inputPrefix                          in/</div>
<div class="line">    outputPrefix                        out/</div>
<div class="line">  }</div>
<div class="line">  nAtomType                                2</div>
<div class="line">  nBondType                                1</div>
<div class="line">  atomTypes                      A       1.0</div>
<div class="line">                                 B       1.0</div>
<div class="line">  maskedPairPolicy                MaskBonded</div>
<div class="line">  SpeciesManager{</div>
<div class="line"></div>
<div class="line">    Homopolymer{</div>
<div class="line">      moleculeCapacity                      50</div>
<div class="line">      nAtom                                  8</div>
<div class="line">      atomType                               0</div>
<div class="line">      bondType                               0</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    Homopolymer{</div>
<div class="line">      moleculeCapacity                      50</div>
<div class="line">      nAtom                                  8</div>
<div class="line">      atomType                               1</div>
<div class="line">      bondType                               0</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  Random{</div>
<div class="line">    seed                           13451892</div>
<div class="line">  }</div>
<div class="line">  McSystem{</div>
<div class="line">    pairStyle                        LJPair</div>
<div class="line">    bondStyle                  HarmonicBond</div>
<div class="line">    McPairPotential{</div>
<div class="line">      epsilon               1.000000000000e+00  1.300000000000e+00</div>
<div class="line">                            1.300000000000e+00  1.000000000000e+00</div>
<div class="line">      sigma                 1.000000000000e+00  1.000000000000e+00</div>
<div class="line">                            1.000000000000e+00  1.000000000000e+00</div>
<div class="line">      cutoff                1.122460000000e+00  1.122460000000e+00</div>
<div class="line">                            1.122460000000e+00  1.122460000000e+00</div>
<div class="line">      maxBoundary                 cubic  10.5 </div>
<div class="line">    }</div>
<div class="line">    BondPotential{</div>
<div class="line">      kappa                 2.000000000000e+03</div>
<div class="line">      length                1.000000000000e+00</div>
<div class="line">    }</div>
<div class="line">    EnergyEnsemble{</div>
<div class="line">      type                  isothermal</div>
<div class="line">      temperature           1.000000000000e+00</div>
<div class="line">    }</div>
<div class="line">    BoundaryEnsemble{</div>
<div class="line">      type                  rigid</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  McMoveManager{</div>
<div class="line"></div>
<div class="line">    HybridMdMove{</div>
<div class="line">      probability           0.002000000000e+00</div>
<div class="line">      nStep                                 20</div>
<div class="line">      MdSystem{</div>
<div class="line">        MdPairPotential{</div>
<div class="line">          maxBoundary                 cubic  10.5 </div>
<div class="line">          PairList{</div>
<div class="line">            atomCapacity                        1000</div>
<div class="line">            pairCapacity                       10000</div>
<div class="line">            skin                  3.000000000000e-01</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">        NveVvIntegrator{</div>
<div class="line">          dt                    5.000000000000e-03</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    AtomDisplaceMove{</div>
<div class="line">      probability           0.479000000000e+00</div>
<div class="line">      speciesId                              0</div>
<div class="line">      delta                               0.05</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    AtomDisplaceMove{</div>
<div class="line">      probability           0.479000000000e+00</div>
<div class="line">      speciesId                              1</div>
<div class="line">      delta                               0.05</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    CfbReptationMove{</div>
<div class="line">      probability           0.020000000000e+00</div>
<div class="line">      speciesId                              0</div>
<div class="line">      nTrial                                20</div>
<div class="line">      hasAutoCorr                            0</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    CfbReptationMove{</div>
<div class="line">      probability           0.020000000000e+00</div>
<div class="line">      speciesId                              1</div>
<div class="line">      nTrial                                20</div>
<div class="line">      hasAutoCorr                            0</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">  }</div>
<div class="line">  AnalyzerManager{</div>
<div class="line">    baseInterval                        1000</div>
<div class="line"></div>
<div class="line">    LogProgress{</div>
<div class="line">      interval                         10000</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    DumpConfig{</div>
<div class="line">      interval                         1000</div>
<div class="line">      outputFileName            dump/config.</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    McEnergyOutput{</div>
<div class="line">      interval                          1000</div>
<div class="line">      outputFileName                  energy</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    RadiusGyration{</div>
<div class="line">      interval                          1000</div>
<div class="line">      outputFileName          RadiusGyration</div>
<div class="line">      nSamplePerBlock                     10</div>
<div class="line">      speciesId                            0</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">  }</div>
<div class="line">  writeRestartInterval             10000</div>
<div class="line">  writeRestartFileName           restart</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="user_param_mcmd_overview_section"></a>
Overview</h1>
<p>In outline, the structure for an mcSim file for the default the code (without angle, dihedral or external potentials) is: </p>
<div class="fragment"><div class="line">McSimulation{</div>
<div class="line">  FileMaster{ ... }</div>
<div class="line">  nAtomType    [int]</div>
<div class="line">  nBondType    [int]</div>
<div class="line">  atomTypes    [string (name)]   [float (mass)]</div>
<div class="line">               ...</div>
<div class="line">  maskedPairPolicy   [string]</div>
<div class="line">  SpeciesManager{ ... }</div>
<div class="line">  Random{ ... }</div>
<div class="line">  McSystem{ ... }</div>
<div class="line">  McMoveManager{ ... }</div>
<div class="line">  AnalyzerManager{ ... }</div>
<div class="line">  writeRestartInterval  [int]</div>
<div class="line">  writeRestartFileName  [string]</div>
<div class="line">}</div>
</div><!-- fragment --><p> The corresponding format for an mdSim file is: </p>
<div class="fragment"><div class="line">MdSimulation{</div>
<div class="line">  FileMaster{ ... }</div>
<div class="line">  nAtomType    [int]</div>
<div class="line">  nBondType    [int]</div>
<div class="line">  atomTypes    [string (name)]   [float (mass)]</div>
<div class="line">               ...</div>
<div class="line">  maskedPairPolicy   [string]</div>
<div class="line">  SpeciesManager{ ... }</div>
<div class="line">  Random{ ... }</div>
<div class="line">  MdSystem{ ... }</div>
<div class="line">  AnalyzerManager{ ... }</div>
<div class="line">  writeRestartInterval    [int]</div>
<div class="line">  writeRestartFileName    [string]</div>
<div class="line">}</div>
</div><!-- fragment --><p> The two formats are similar in most respects. The most important differences are:</p>
<ul>
<li>The main block for an mcSim simulation is an McSimulation block, while the main block for an mdSim simulation is an MdSimulation block.</li>
</ul>
<ul>
<li>For mcSim, the main McSimulation block contains an McSystem subblock, whereas for mdSim, the main block contains an MdSystem subblock.</li>
</ul>
<ul>
<li>For mdSim, the MdSystem block contains a polymorphic subblock associated with the molecular dynamics integrator, which must be a subclass of <a class="el" href="classMcMd_1_1MdIntegrator.html" title="Abstract base for molecular dynamics integrators.">McMd::MdIntegrator</a>. There is no analogous subblock in the MdSystem block of an mcSim param file.</li>
</ul>
<ul>
<li>For mcSim, the McSimulation block contains a McMoveManager subblock that contains polymorphic subblocks associated with different Monte Carlo moves (subclasses of McMd::McMoves). There is no analogous block in an mcSim param file.</li>
</ul>
<p>The following parameters appear in the main block in the format for either type of simulation: </p>
<ul>
<li>
nAtomType: The number of atom types, which are indexed by an integer index with values 0, ..., nAtomType - 1.  </li>
<li>
nBondType: The number of bond types, which are indexed by an integer index with values 0, ..., nBondType - 1.  </li>
<li>
atomTypes: atomTypes is an array of values of type <a class="el" href="classMcMd_1_1AtomType.html" title="Descriptor for a type of Atom.">McMd::AtomType</a>. The string representation of each atom type consists of a string label (e.g., "A" or "B") followed by a floating point value for the atom mass.  </li>
<li>
maskedPairPolicy: Determines if nonbonded pair interactions between bonded atoms are "masked" (i.e., suppressed), or included. See below for further discussion. </li>
<li>
writeRestartInterval: The interval, in MD time steps or attempted MC moves, between time steps when a restart file is written. </li>
<li>
writeRestartFileName: The base name used for the restart file. </li>
</ul>
<p>The writeRestartInterval and writeRestartFileName parameters are discussed in more detail <a class="el" href="user_restart_page.html">here</a>.</p>
<h1><a class="anchor" id="user_param_mcmd_maskPairPolicy_section"></a>
MaskedPairPolicy</h1>
<p>The parameter maskedPairPolicy is represented internally by an instance of the enum <a class="el" href="group__McMd__Chemistry__Module.html#ga43203d681ebb2c62d748de0516d59a82" title="Enumeration of policies for suppressing (&quot;masking&quot;) some pair interactions.">McMd::MaskPolicy</a>. This can have values MaskBonded or MaskNone, which are represented in the parameter file by strings "MaskBonded" or "maskBonded" and "MaskNone" or "maskNone", respectively. The value "MaskBonded" indicates that nonbonded pair interactions between bonded atoms should be suppressed or "masked", i.e., there should be no non-bonded pair interaction between pairs of atoms that are directly connected by a two-body covalent bond. The value "MaskNone" indicates, conversely, that the nonbonded pair interaction should operate between any two atoms that are separated by a distance less than the appropriate pair potential cutoff length.</p>
<h1><a class="anchor" id="user_param_mcmd_filemaster_section"></a>
FileMaster</h1>
<p>The FileMaster block is associated with an instance of the class <a class="el" href="classUtil_1_1FileMaster.html" title="A FileMaster manages a set of input and output files.">Util::FileMaster</a>. This block contains several string parameters that specify locations of input and output files. The string "commandFileName" is the name of the command file that controls program execution after the parameter file is processed. The "inputPrefix" string is prepended to the names of input configuration files and other input files. The "outputPrefix" string is predended to the names of most output files.</p>
<p>Input and output files can be placed in separate directories by giving directory names for these two prefixes, in which case the prefix strings should end with a backslash (directory separator). In the above example, by setting "inputPrefix" to "in/" and "outputPrefix" to "out/", we have specified that input files should be read from subdirectory "in" and output files should be written to a subdirectory named "out".</p>
<h1><a class="anchor" id="user_param_random_section"></a>
Random</h1>
<p>The Random block is associated with a <a class="el" href="classUtil_1_1Random.html" title="Random number generator.">Util::Random</a> object. The only parameter this block is a "seed" for the Mersenne-Twister random number generator. The seed value must be an unsigned (non-negative) 32 bit integer, in the range 0 &lt;= seed &lt; 4294967296.</p>
<h1><a class="anchor" id="user_param_mcmd_species_manager_section"></a>
SpeciesManager</h1>
<p>The SpeciesManager block contains a sequence of one or more polymorphic blocks, each of which contains the appropriate file format for a subclass of <a class="el" href="classMcMd_1_1Species.html" title="A Species represents a set of chemically similar molecules.">McMd::Species</a>. Each such subclass describes a different class of molecules, and so requires a different file format. Instances of the base class <a class="el" href="classMcMd_1_1Species.html" title="A Species represents a set of chemically similar molecules.">McMd::Species</a> use a file format that is flexible enough to describe any molecular structure.</p>
<h1><a class="anchor" id="user_param_mcmd_analyzer_manager_section"></a>
AnalyzerManager</h1>
<p>The AnalyzerManager block contains a single integer parameter named baseInterval, followed by a sequence of polymorphic blocks associated with subclasses of <a class="el" href="classMcMd_1_1Analyzer.html" title="Abstract base for periodic output and/or analysis actions.">McMd::Analyzer</a>. Most subclasses of <a class="el" href="classMcMd_1_1Analyzer.html" title="Abstract base for periodic output and/or analysis actions.">McMd::Analyzer</a> implement an operation that calculates one or more physical properties and either outputs data or carries out a statistical analysis, or both. Each analyzer has an parameter named "interval" that specifies how often this operation should be invoked: Each analyzer is invoked when the global step counter is an integer multiple of its interval parameter. The interval for each analyzer must be a multiple of baseInterval.</p>
<h1><a class="anchor" id="user_param_mcmd_mcsystem_section"></a>
McSystem and MdSystem</h1>
<p>The format for an McSystem subblock of an MdSimulation is: </p>
<div class="fragment"><div class="line">McSystem{</div>
<div class="line">  pairStyle      [string]</div>
<div class="line">  bondStyle      [string]</div>
<div class="line">  McPairPotential{ ... }</div>
<div class="line">  BondPotential{ ... }</div>
<div class="line">  EnergyEnsemble{ ... }</div>
<div class="line">  BoundaryEnsemble{ ... }</div>
<div class="line">}</div>
</div><!-- fragment --><p> The format for an MdSystem subblock of an MdSimulation block is: </p>
<div class="fragment"><div class="line">McSystem{</div>
<div class="line">  pairStyle      [string]</div>
<div class="line">  bondStyle      [string]</div>
<div class="line">  MdPairPotential{ ...  }</div>
<div class="line">  BondPotential{ ...  }</div>
<div class="line">  EnergyEnsemble{ ...  }</div>
<div class="line">  BoundaryEnsemble{ ...  }</div>
<div class="line">  MdIntegrator{ ...  }</div>
<div class="line">}</div>
</div><!-- fragment --><p> In the above description of the MdSystem block, MdIntegrator{ ... } denotes a polymorphic block that must contain the file format for a subclass of the <a class="el" href="classMcMd_1_1MdIntegrator.html" title="Abstract base for molecular dynamics integrators.">McMd::MdIntegrator</a> base class.</p>
<p>The only differences between an MdSystem block and an McSystem block are thus:</p>
<ul>
<li>An MdSystem contains an MdPairPotential block (<a class="el" href="classMcMd_1_1MdPairPotential.html" title="An PairPotential for MD simulation.">McMd::MdPairPotential</a>) where an McSystem contains an McPairPotential block (<a class="el" href="classMcMd_1_1McPairPotential.html" title="A PairPotential for MC simulations (abstract).">McMd::McPairPotential</a>).</li>
</ul>
<ul>
<li>An MdSystem block contains an additional polymorphic <a class="el" href="classMcMd_1_1MdIntegrator.html" title="Abstract base for molecular dynamics integrators.">McMd::MdIntegrator</a> block.</li>
</ul>
<p>The both types of System, values of the pairStyle and bondStyle parameters are strings that specify the names of "interaction" classes that implement specific potential energy functions for nonbonded pair and covalent bond potentials, respectively. Interaction classes for non-bonded pair interactions are in the src/inter/pair directory. Interaction classes for bond potentials are in the src/inter/bond directory. For executables in which angle, dihedral, and/or external potentials have enabled (these are all disabled by default) these two "style" variables would be followed by "angleStyle", "dihedralStyle" and/or "externaStyle" string variables, as appropriate.</p>
<h1><a class="anchor" id="user_param_mdpair_section"></a>
Pair Potentials</h1>
<p>MC and MD simulations use the same potential classes for all covalent bond potentials, and for angle, and dihedral, and external potentials (if enabled). Different classes are used to evaluate pair potentials, because different data structures are used to keep track of neighbors in MC and MD simulations. The <a class="el" href="classMcMd_1_1McPairPotential.html" title="A PairPotential for MC simulations (abstract).">McMd::McPairPotential</a> class uses a cell list (a instance of <a class="el" href="classMcMd_1_1CellList.html" title="A cell list for Atom objects in a periodic system boundary.">McMd::CellList</a>), while an MdPairPotential uses a Verlet pair list (an instance of Util::PairList). The <a class="el" href="classMcMd_1_1PairList.html" title="A Verlet neighbor list.">McMd::PairList</a> class also uses an internal cell list, which is used periodically rebuild the pair list, but is not used for force or energy calculations.</p>
<p>In an McSystem, the McPairPotential subblock contains the parameters required by a specific pairStyle (in this case, by the LJPair style), followed by a maxBoundary parameter. The maxBoundary parameter describes the dimensions of the largest expected dimensions of the periodic boundary. The maxBoundary parameter is used to allocate memory for a cell list before the simulation begins. Only enough memory is allocated for the number of cells required for the boundary condition specified by maxBoundary, using a cell size that must be at least as large as the largest pair potential cutoff parameter. In NVE and NVT simulations, maxBoundary can safely be chosen to be equal be equal to the actual rigid boundary (which is specified in an input configuration file). In NPT and NPH simulations, however, maxBoundary must be chosen large enough to guarantee that adequate memory is allocated to accomodate any fluctuation in system size that may occur during a simulation. The CellList does not occupy a large amount of memory, so their is little cost in choosing a maxBoundary that is larger than is likely to be needed.</p>
<p>In an MdSystem, the MdPairPotential block contains the same parameters as for an McPotential, followed by additional parameters required to construct a Verlet pair list. The format is: </p>
<div class="fragment"><div class="line">MdPairPotential{</div>
<div class="line">   (Interaction parameters)</div>
<div class="line">   maxBoundary   [<span class="keywordtype">string</span> (boundary type)]  [float (dimension)] ...</div>
<div class="line">   PairList{ ... }</div>
<div class="line">}</div>
</div><!-- fragment --><p> The format of the PairList subblock is: </p>
<div class="fragment"><div class="line">PairList{</div>
<div class="line">  atomCapacity    [int]</div>
<div class="line">  pairCapacity    [int]</div>
<div class="line">  skin            [float]</div>
<div class="line">}</div>
</div><!-- fragment --><p> The value of atomCapacity is the maximum number of distinct atoms. The value of pairCapacity is the maximum number of distinct pairs within the Verlet list cutoff range. The Verlet list cutoff range is given by the sum of the largest pair potential cutoff plus the value of the "skin" parameter.</p>
<p>The pair list in an MD simulation is rebuilt whenever one or more atoms in the simulation has moved a distance skin/2 or greater since the last time the pair list was rebuilt. Increasing the value chosen for the "skin" parameter will thus generally cause the pair list to be rebuilt less frequently, but will increase the number of pairs retained in the pair list, and thus increase the cost of evaluating nonbonded forces that once every time step. There is thus an optimum value for each system. If the optimum value is not adequately known from previous experience, it can be identified by timing a few short trial simulations on a particular system with different values for the skin parameter.</p>
<h1><a class="anchor" id="user_param_mcmd_ensemble_section"></a>
Energy and Boundary Ensembles</h1>
<p>The EnergyEnsemble and BoundaryEnsemble blocks are associated with instances of <a class="el" href="classUtil_1_1EnergyEnsemble.html" title="A statistical ensemble for energy.">Util::EnergyEnsemble</a> and <a class="el" href="classUtil_1_1BoundaryEnsemble.html" title="Statistical ensemble for changes in the periodic unit cell size.">Util::BoundaryEnsemble</a> respectively. The EnergyEnsemble block specifies the type of statistical ensemble for energy fluctuations, which can be "adiabatic" (i.e., constant energy) or "isothermal". If the ensemble type is isothermal (as in the above example for mcSim), this this block must also contains a "temperature" parameter. Only "isothermal" makes sense for an MC simulation, but "adiabatic" ensemble is used for MD integrators that conserve energy or (for constant pressure ensembles) enthalpy. For isothermal simulations, temperature is specified as a value for kT, in units of energy. The BoundaryEnsemble block has a type parameter that can be either "rigid" (i.e., constant volume) or "isobaric". If this type is isobaric, the type parameter must be followed by a "pressure" parameter whose value specifies the target pressure in units of energy per volume.</p>
<p><br/>
 <a class="el" href="user_param_syntax_page.html">2.3.1 Parameter Files: Syntax</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="user_param_page.html">2.3 Parameter Files</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="user_param_ddmd_page.html">2.3.3 Parameter Files: ddSim</a> (Next) </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.3-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 28 2014 20:29:41 for Simpatico by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3
</small></address>
</body>
</html>
